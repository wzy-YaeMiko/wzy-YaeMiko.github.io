(()=>{document.addEventListener("DOMContentLoaded",function(){m(),d()});function m(){document.querySelectorAll(".diary-entry__likes a").forEach(t=>{let o=t.getAttribute("data-entry-id"),n=t.querySelector(".like-count"),i=r(o)||0;c(n,i),t.addEventListener("click",function(s){s.preventDefault();let a=u(o);c(n,a),l(t)})})}function r(e){let t=`diary_likes_${e}`;return parseInt(localStorage.getItem(t)||"0",10)}function u(e){let t=`diary_likes_${e}`,n=r(e)+1;return localStorage.setItem(t,n.toString()),n}function c(e,t){e.textContent=t}function l(e){e.classList.add("liked"),setTimeout(()=>{e.classList.remove("liked")},1e3)}function d(){document.querySelectorAll(".diary-entry__comments a").forEach(t=>{let o=t.getAttribute("data-entry-id"),n=t.querySelector(".comment-count"),i=k(o);n&&(n.textContent=i)})}function k(e){let t=`diary_comments_${e}`;return parseInt(localStorage.getItem(t)||"0",10)}})();
